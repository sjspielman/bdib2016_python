\documentclass{article}[12pt]
\usepackage[margin=0.75in]{geometry}
\usepackage{color}
\usepackage{graphicx}
%\usepackage{hyperref}
\usepackage{fancyvrb}
\usepackage{palatino}
\usepackage{enumitem}
\usepackage{natbib}
\usepackage[T1]{fontenc} % quotes
%\hypersetup{
%	colorlinks=true, %set true if you want colored links
%	linktoc=all,     %set to all if you want both sections and subsections linked
%	linkcolor=blue,  %choose some color if you want links to stand out
%	urlcolor=blue
%}
\newcommand{\code}[1]{\texttt{#1}}  % let's not use bold for now
\sloppypar
\setlength\parindent{0pt}
\usepackage{textcomp}

\begin{document}

\title{Introduction to Python \\ Day Four Exercises}
\author{Stephanie Spielman \\ \footnotesize{Email: stephanie.spielman@gmail.com}}
\date{}
\maketitle{}




\section{File Input and Output}

\textbf{Be sure to always close the file once you are done with it! If you use \code{with} control flow, Python will close the file automatically.}
The following exercises make use of files distributed in today's course materials. Be sure that you are in the correct directory when interacting with the files!

\begin{enumerate}
	
	\item Open the file "file1.txt" in read-mode, and print its contents to screen. For this, you should use the \code{.read()} method, which saves the contents of the file to a single string. Perform this task twice: once using \code{open} and \code{close}, and once using \code{with} control-flow.
	
	\item Open the file "file1.txt" in read-mode, and save all lines in this file to a list using the \code{.readlines()} method. Write a new file called "upper\_file1.txt" which contains the same contents of "file1.txt" but in upper-case. Try to do this task using a single for-loop, and don't forget that in order to write newlines (the "enter" key) to a file, you must include \code{"\textbackslash n"} in the string you are writing to file!
	
	\item Open the file "upper\_file1.txt" in append-mode, and \emph{append} the sentence: "I just created this upper-case file!" to the bottom of the file. Close the file and open it (separately) to examine the contents. 
	
	\item Again, open the file "upper\_file1.txt", this time in read-mode. Loop over the file lines \emph{without} using \code{.read()} or \code{.readlines()}. Print out lines as you loop.
	
	\item Modify the previous for-loop to only print out lines in "upper\_file1.txt" which contain at least (i.e. $>=$) 5 letter "E"s. This will require an \code{if} statement as well as the method \code{.count()}.
	
	\item You should notice 20 files named file1.txt, file2.txt, ...file20.txt. Write a for-loop to open each of these files (Hint: use the \code{range()} function to loop over file names). For each file, write a for-loop over the file lines (this does not use \code{.read()} or \code{.readlines()}). Print each line that contains more than 25 characters (determine this with \code{len()}.)
	
	\item Using the zoo-keeper dictionaries from the \textbf{Working with dictionaries} exercises (also provided below), create and write to a new file called "animal\_food.txt" which contains the sentences you created earlier: \\
        The lion eats meat \\
        The gazelle eats grass \\ 
        The anteater eats termites \\
        The alligator eats visitors \\ 
            ... etc. \\
        \code{category = \{"lion": "carnivore", "gazelle": "herbivore", "anteater": "insectivore", "alligator": "homovore", "hedgehog": "insectivore", "cow": "herbivore", "tiger": "carnivore", "orangutan": "frugivore"\}} \\
	
	    \code{feed = \{"carnivore": "meat", "herbivore": "grass", "frugivore": "mangos", "homovore": "visitors", "insectivore": "termites"\} } \\


\end{enumerate}


\section{Defining Functions}

For this set of exercises, you will re-write some of the course's previous exercises as functions. The code doing the actual computation will remain virtually the same, except it will be written in the context of a function and subsequently called. \textbf{ After you write each function, run it with 2-3 test cases to confirm that it works as expected!!}

\begin{enumerate}

	\item In Texas, you can be a member of the elite "top 1\%" if you make at least \$423,000 per year. Alternatively, in Hawaii, you can be a member once you start making at least \$279,000 per year! Finally, if you live in New York, you need to earn at least \$506,000 a year to make the cut. \\\\ Write a function to determine if a given salary is a "top-1\%" salary in Texas, Hawaii, and/or New York. Your function should take a single argument, the salary, and \emph{print} a sentence indicating in which state(s) this salary is and is not a top-1\% salary. Your function should not return a value.
	
	\item Write a function that returns a list of the powers (exponents 0-15, inclusive!!) for a provided number. This function should take 1 argument: the number to raise to powers 0-15.
	
	\item Modify the previous function to take two additional arguments indicating which exponents to calculate. For example, in the previous exercise, you would have provided the additional arguments 0 and 15 (or, 16, depending on how you wrote your loop). 
	
	\item Write a function to curve a list of grades, silly-professor style. This function should take \emph{four arguments}:
	\begin{itemize}
		\item A list of grades to curve
		\item The cutoff \emph{above which} grades are reduced
		\item The cutoff \emph{below which} grades are raised
		\item The scaling value
	\end{itemize}
	The function should return a list of curved grades. 
	
	\item Write a function to compute the molecular weight of a protein sequence. This function should take a single argument, a protein-sequence string, and it should return a single value, the molecular weight. Your function should account for the potential presence of ambiguous amino acids (again, compute these weights from average of all weights). Once your function is written, run it on the protein sequence "ABVPOXIRBTQQWS." \\ Use this dictionary in your function:
	\\ \code{ amino\_weights = \{"A":89.09, "R":174.20, "N":132.12, "D":133.10, "C":121.15, "Q":146.15, "E":147.13, "G":75.07, "H":155.16, "I":131.17, "L":131.17, "K":146.19, "M":149.21, "F":165.19, "P":115.13, "S":105.09, "T":119.12, "W":204.23, "Y":181.19, "V":117.15\}} 
	
	\item Write a function to open file and return the number of letter "f"\textquotesingle s in the file (both capital and lower-case!). 

	\item Modify the previous function such that it contains an additional argument indicating which letter/character to count.
	
\end{enumerate}


\section{Python modules}
\begin{enumerate}
	
	\item For this question, you will use the \code{os} module. In the included zip directory, there are 20 text files named file1.txt, file2.txt, file3.txt,..., file20.txt (below, they are referred to as file<1-20.txt> for convenience). For this question, use python to count the number of lines in each file. You will save all file line-counts to a \code{dictionary}, in which the keys are the file names and the values are the line counts. Once you have created the dictionary, print it to screen to make sure it looks correct.
	\\ Hint: Use the \code{os} module function \code{os.listdir} to list all files in the current directory and loop over all of these files in order to count their lines. To ensure that you are only counting lines in these text files, use the \code{.startswith()} and \code{.endswith()} method (all files start with "file" and all files end with ".txt").

	\item Create a new file called "file\_full.txt" which contains all contents from each file<1-20>.txt (in order). Again, use \code{os.listdir} to loop over these files. Once this file has been created, use the \code{shutil} module to \emph{move} the file to a different directory on your computer. After this script has run, navigate in your terminal (using the UNIX command \code{cd}) to this directory to confirm that "file\_full.txt" is indeed there.

	\item  Write a \code{function} which counts the number of times a given letter occurs in a file. The function should take two arguments: the file name (including its path) and the letter to count. The function should return the number of occurrences for that letter. \\Hint: In this function, you should open the file, read it using the \code{.read()} method, and then use the \code{.count()} method to count the number of times the letter appears. Perform the following tasks with this function:
	
	\begin{itemize}
		\item Run this function on all file<1-20.txt> to count the letter "a". For every file which contains more than 100 a's, use the \code{shutil} to \emph{make a copy of this file} called "lots\_fileX.txt". For example, if file10.txt contains more than 100 a's, you should create a second file called "lots\_file10.txt". 
		\item Use the \code{sys} module (specifically the \code{sys.argv} variable) to capture \emph{two command-line arguments}: a file on which to run this function and the letter to count. Run the function using the given input parameters, and print a a sentence to the screen summarizing the results.
		\item Modify your code from the previous point to use the \code{os} module function \code{os.path.exists()}. This function takes a single argument, a path to a file/directory, and returns True or False indicating if the file exists or not. So, before running the function on the command-line provided file, check if the file exists using \code{os.path.exists()}. If the file exists, then proceed as usual. If the file does not exist, print to screen "Your file does not exist!", and then exit immediately with \code{sys.exit()}.
		\item Now, run the function \emph{from an entirely separate script}. Accomplish this by importing the file with this function into the script you will run. You can run the function on a file of your choice.
	\end{itemize}


\end{enumerate}


\bibliographystyle{plainnat}
\bibliography{citations}





\end{document}
